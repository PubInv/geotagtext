 <!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title>Build your own geotag map</title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <link href="styles.css" rel="stylesheet">
    <!---added Bootstrap-->
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" rel="stylesheet">

        <!---v.2.0.1 is available for mapbox-->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase.js"></script>
    <!-- Firebase App is always required and must be first -->
    <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase-app.js"></script>

    <!-- Add additional services that you want to use -->
    <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase-auth.js"></script>
    <script src="https://www.gstatic.com/firebasejs/5.5.2/firebase-database.js"></script>
</head>


<body>

    <nav class="navbar navbar-expand-lg navbar-light bg-light">
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link" href="builder.html">Map Builder<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="index.html">User Page</a>
          </li>
        </ul>
      </div>
    </nav>

    <h1 class="center">Map Application Builder</h1>

    <form id="createmap">
      <!--- action? -->
      <div class="mb-3">
	<p style="text-align: center;">Name of Application</p>
	<input type="text" class="form-control" id="map-name">
      </div>
      <br>

      <div class="form-check marginleft">
	<input class="form-check-input" type="radio" name="name" id="yes-name">
	<label class="form-check-label" for="yes-name">
	  Ask for  name of geotagger
	</label>
      </div>
      <div class="form-check marginleft">
	<input class="form-check-input" type="radio" name="name" id="no-name" checked>
	<label class="form-check-label" for="no-name">
	  Don't ask for name
	</label>
      </div>
      <br>

      <div class="form-check marginleft">
	<input class="form-check-input" type="radio" name="text" id="yes-message">
	<label class="form-check-label" for="yes-message">
	  Ask for a text message
	</label>
      </div>
      <div class="form-check marginleft">
	<input class="form-check-input" type="radio" name="text" id="no-message" checked>
	<label class="form-check-label" for="no-message">
	  Don't ask for a message
	</label>
      </div>
      <br>

      <select class="form-select form-select-sm marginleft" aria-label=".form-select-sm example" id="icon">
	<option selected>choose marker icon</option>
	<option value="american-football-15.svg">Football</option>
	<option value="attraction-15.svg">Camera</option>
	<option value="car-15.svg">Car</option>
	<option value="marker-15.svg">Marker</option>
	<option value="gift-15.svg">Gift</option>
	<option value="hardware-15.svg">Tool</option>
	<option value="music-15.svg">Note</option>
      </select>
      <br>

      <p style="text-align: center;">Select any colors you want for your icon</p>
      <div class="form-check form-switch marginleft">
	<input class="form-check-input" type="checkbox" id="red" checked>
	<label class="form-check-label" for="red">Red</label>
      </div>
      <div class="form-check form-switch marginleft">
	<input class="form-check-input" type="checkbox" id="blue" checked>
	<label class="form-check-label" for="blue">Blue</label>
      </div>
      <div class="form-check form-switch marginleft">
	<input class="form-check-input" type="checkbox" id="green" checked>
	<label class="form-check-label" for="green">Green</label>
      </div>
      <br>

      <div class="form-check marginleft">
	<input class="form-check-input" type="checkbox" value="" id="yes-photo">
	<label class="form-check-label" for="yes-photo">
	  Ask for photo
	</label>
      </div>
      <br>

      <button type="submit" onclick="createApplication()" class="btn btn-primary center">Create Application</button>
    </form>


</body>
<script type="text/javascript" src="firebase.js"></script>
<script>
  function createApplication() {

    var red = $("#red").is(":checked");
    var blue = $("#blue").is(":checked");
    var green = $("#green").is(":checked");

    // TODO: Change map-name id to appName
    var appName = $("#map-name").val();

    alert("red blue green" + red +" "+ blue +" "+ green);
    var config = { red: red,
                   blue: blue,
                   green: green };

    // TOOD: /apps tag is create by hand, make initializable
    firebase.database().ref('apps/' + appName).set(config,
                                                 function(error) {
                                                     if (error) {
                                                         // The write failed...
                                                         console.log("ERROR:",error);
                                                     } else {
                                                         // Data saved successfully!
                                                         console.log("SUCCESS");
                                                     }
                                                 });

  }

</script>


</html>
